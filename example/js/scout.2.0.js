$.edutarg=new Object();$.edutarg.multiplicable=new Object();(function($){$.fn.isEmpty=function(){return $(this).val()==undefined||$(this).val()=='';};$.fn.switchClass=function(class1,class2){return this.each(function(){if($(this).hasClass(class1)||$(this).hasClass(class2))
{if($(this).hasClass(class1)){$(this).removeClass(class1);$(this).addClass(class2);}else{$(this).removeClass(class2);$(this).addClass(class1);}}});};$.fn.replaceSymbol=function(symbol,count){return this.each(function(){if(this.nodeName=="LABEL"){var regExp=new RegExp('\('+symbol+'\)');$(this).attr('for',$(this).attr('for').replace(regExp,count));}else if(this.nodeName=="INPUT"||this.nodeName=="SELECT"){var regExp=new RegExp('\('+symbol+'\)');$(this).attr('id',$(this).attr('id').replace(regExp,count));$(this).val("");$(this).attr('name',$(this).attr('name').replace(regExp,count));}})};$.fn.selectNextOption=function(){var selected_option=$(this).find('option:selected');selected_option.attr('selected',false);var next=selected_option.is(':last-child')?$(this).find('option:first'):selected_option.nextAll('option:first');next.attr('selected',true);};$.fn.selectPrevOption=function(){var selected_option=$(this).find('option:selected');selected_option.attr('selected',false);var prev=selected_option.is(':first-child')?$(this).find('option:last'):selected_option.prevAll('option:first');prev.attr('selected',true);};$.fn.changeNextSiblingsClass=function(desired_class,class1,class2){var element=new Object();if($(this).hasClass(desired_class)){element=$(this);}else{element=$(this).parents('.'+desired_class);}
element.nextAll('.'+desired_class).each(function(){$(this).switchClass(class1,class2);});};$.fn.preventDefaultOnClick=function(){return this.each(function(){$(this).click(function(event){event.preventDefault();});});};})(jQuery)
$(document).ready(function(){$('.rules-link').each(function(){$(this).click(function(event){event.preventDefault();$('#show-rules').click();});});$('.submit-on-change-button').css('display','none');$('.submit-on-change-holder select.submit-on-change').change(function(){$(this).parents('.submit-on-change-holder').find('input.submit-on-change-button').click();});$('.cake-debug').each(function(){$(this).click(function(){$(this).hide();});});$('#community-inner li').each(function(){$(this).hover(function(){$(this).animate({paddingLeft:20},500);},function(){$(this).animate({paddingLeft:10},500).dequeue();});});});$.Scout=new Object();$.Scout.Engine=new Object();$.Scout.GlobalSettings={error_display:'after',time_to_validate_on_key_up:'1000',display_password_tooltip:true,image_files_path:'img/',password_lvl_evaluation_function:'mixedCaseAndNumbers'};$(document).ready(function(){if($('.scout-form').size()!=0){$('.form-validation-trigger').click(function(){return $(this).parents('.scout-form').validateForm();});$('.markup-holder').prepareField();$(".validation-target").each(function(){if($(this).getInstruction('validate_at')=='keyUp')
$(this).not('select,:radio,:checkbox').setValidationOnKeyUp();if($(this).getInstruction('type')=='Password')
$(this).keyup(function(){$(this).displayPasswordLevelHtml();});$(this).blur(function(){$(this).validate();});$(this).filter('select').change(function(){$(this).validate();});$(this).filter(':checkbox,:radio').click(function(){$(this).validate();});});}});(function($){$.fn.checkForInstruction=function(label){var instr=this.getMarkupHolder().get(0).instructions[label];return!(typeof instr=="undefined"||instr=='');};$.fn.prepareField=function(){this.each(function(){var instructions=$.extend({},$.Scout.Defaults.FieldSetting);var user_instructions=eval('('+$(this).getInstructionHolder().text()+')');var type=user_instructions['type'];if(typeof $.Scout.Defaults.Types[type]!='undefined')
$.extend(instructions,$.Scout.Defaults.Types[type]);$.extend(instructions,user_instructions);this.instructions=instructions;});};$.fn.getInstruction=function(label){return this.checkForInstruction(label)?this.getMarkupHolder().get(0).instructions[label]:'';};$.fn.getInstructionOrGlobal=function(label){return this.checkForInstruction(label)?this.getInstruction(label):$.Scout.GlobalSettings[label];};$.fn.getMarkupHolder=function(){return this.hasClass('markup-holder')?this:this.parents('.markup-holder');};$.fn.getInstructionHolder=function(){return this.hasClass('markup-holder')?this.find('.instruction-holder'):this.parents('.markup-holder').find('.instruction-holder');};$.fn.getValidationTargetHolder=function(){return this.getMarkupHolder().find('.validation-target-holder');};$.fn.getValidationTarget=function(){return this.getValidationTargetHolder().find('.validation-target');};$.fn.getValidationTargetValue=function(){var target=this.getValidationTarget();if(target.is('select'))
return target.find('option:selected').text();if(target.is(':checkbox')||target.is(':radio'))
return target.is(':checked')?target.filter(':checked').val():'';if(target.is('textarea'))
return target.text();return target.val();};$.fn.setValidationOnKeyUp=function(){$(this).keyup(function(event){var key_code=(event.keyCode?event.keyCode:event.which);if(key_code!=9){$(this).stop().animate({opacity:1},$.Scout.GlobalSettings['time_to_validate_on_key_up'],function(){$(this).getMarkupHolder().validate();});}});$(this).blur(function(){$(this).stop();});};})(jQuery);$.Scout.Engine.getField=function(name){var element;$('.markup-holder').each(function(){if($(this).getInstruction('name')==name)
element=$(this).getValidationTarget();});return element;};$.Scout.Engine.max=function(array){return Math.max.apply(Math,array);};$.Scout.Engine.min=function(array){return Math.min.apply(Math,array);};$.Scout.Engine.imageUrl=function(image_address){return $.Scout.GlobalSettings['image_files_path']+image_address;};$.Scout.Engine.isNumeric=function(val){return new RegExp('^[\\d]+$').test(val);};$.Scout.Engine.selectNextOpion=function(){};$.Scout.Engine.traverse=function(str){return str.replace(/\{([^\}]+)\}/g,$.Scout.Engine.traverseLiteral);}
$.Scout.Engine.traverseLiteral=function(str,offset,s){var func=str.replace(/\{(.*)\}/,"$1");return $.isFunction($.Scout.Plug.Traversable[func.replace(/\(.*\)/,'')])?eval("$.Scout.Plug.Traversable."+func):str;};$.Scout.Defaults=new Object();$.Scout.Defaults.FieldSetting={'type':'String','arbitrary':'true','hint_message':'',};$.extend($.Scout.GlobalSettings,$.Scout.Defaults.FieldSetting);$.Scout.Defaults.Types={'Password':{validate_at:'blur'},'String':{validate_at:'blur'},'Integer':{validate_at:'keyUp'},'Float':{validate_at:'blur'},'Positive':{validate_at:'blur'},'Natural':{validate_at:'blur'},'Mail':{validate_at:'blur'},'Char':{validate_at:'blur'},};$.Scout.Defaults.Months=['January','Ferbruary','March','April','May','June','July','August','September','October','November','December'];$.Scout.Defaults.Days=[{name:'Monday',abbr:'Mon'},{name:'Tuesday',abbr:'Tue'},{name:'Wednesday',abbr:'Wen'},{name:'Thursday',abbr:'Thu'},{name:'Friday',abbr:'Fri'},{name:'Saturday',abbr:'Sat'},{name:'Sunday',abbr:'Sun'},];$.Scout.Date=new Object();$.Scout.Date.getNumberOfDaysInMonth=function(month,year){if(!$.Scout.Engine.isNumeric(year)){var date=new Date();year=date.getFullYear()}
var month_number=$.Scout.Date.getMonthNumber(month);if(month_number==-1)
return 0;return 32-new Date(year,month_number,32).getDate();};$.Scout.Date.getMonthNumber=function(month){var month_number;if($.Scout.Engine.isNumeric(month)){month_number=parseInt(month);}else{month_number=$.inArray(month,$.Scout.Defaults.Months);}
if(month_number>12||month_number<0)
month_number=-1;return month_number;};$.Scout.Date.getMonthsNames=function(){return $.Scout.Defaults.Months;};$.Scout.Date.getDayIndex=function(day){};$.Scout.Date.getDaysNames=function(){return $.Scout.Defaults.Days;};$.Scout.Date.getIndexOfDayInWeek=function(year,month,day){var numeric_month=$.Scout.Date.getMonthNumber(month);return(new Date(year,numeric_month,day).getDay()+6)%7;};(function($){$.fn.markCorrect=function(){return this.each(function(){$(this).hideErrorMessage();$(this).getMarkupHolder().removeClass('incorrect');$(this).getMarkupHolder().addClass('correct');});};$.fn.markIncorrect=function(){return this.each(function(){$(this).displayErrorMessage();$(this).getMarkupHolder().removeClass('correct');$(this).getMarkupHolder().addClass('incorrect');});};$.fn.checkCorrect=function(){return $(this).hasClass("correct");};$.fn.checkIncorrect=function(){return $(this).hasClass("incorrect");};})(jQuery);(function($){$.fn.checkValidationInFieldset=function(){var check_result=true;this.find(".markup-holder").each(function(){if(!this.checkCorrect())
check_result=false;});if(check_result){this.removeClass('incorrect').addClass('correct');}else{this.addClass('incorrect').removeClass('correct');}};$.fn.validateForm=function(){var result=true;this.find(".markup-holder").each(function(){$(this).validate();if($(this).hasClass('incorrect'))
result=false;});return result;};$.fn.validate=function(){var result=this.getValidationTargetHolder().checkConstraints();result?this.markCorrect():this.markIncorrect();};$.fn.checkConstraints=function(){var type=this.getInstruction('type');var mandatory=this.getInstruction('mandatory');var constraints=this.checkForInstruction('constraints')?$.Scout.Engine.traverse(this.getInstruction('constraints')).replace(/[a-zA-Z\-\_]+\(/g,"this.$&"):true;if(mandatory=='false'&&this.getValidationTargetValue()=='')
return true;return eval(constraints)&&eval('this.'+type);};})(jQuery);$.Scout.Plug=new Object();$.Scout.Plug.FunctionValidations={EqualTo:function(param){return this.getValidationTargetValue()==param;},EqualToAny:function(int_arr){var val=this.getValidationTargetValue();return($.inArray(parseInt(val),int_arr)!=-1)||($.inArray(val,int_arr)!=-1);},InRange:function(int_arr){var val=parseInt(this.getValidationTargetValue());return $.Scout.Engine.isNumeric(val)&&val>=$.Scout.Engine.min(int_arr)&&val<=$.Scout.Engine.max(int_arr)},GreaterThan:function(int_arr){var val=this.getValidationTargetValue()
if(!$.Scout.Engine.isNumeric(val))
return false;return val>$.Scout.Engine.max(int_arr);},GreaterOrEqualTo:function(int_arr){var val=this.getValidationTargetValue()
if(!$.Scout.Engine.isNumeric(val))
return false;return val>=$.Scout.Engine.max(int_arr);},GreaterThanAny:function(int_array){var val=this.getValidationTargetValue()
if(!$.Scout.Engine.isNumeric(val))
return false;return val>$.Scout.Engine.min(int_array);},GreaterOrEqualToAny:function(int_arr){var val=this.getValidationTargetValue()
if(!$.Scout.Engine.isNumeric(val))
return false;return val>=$.Scout.Engine.min(int_arr);},LessThan:function(int_arr){var val=this.getValidationTargetValue()
if(!$.Scout.Engine.isNumeric(val))
return false;return val<$.Scout.Engine.min(int_arr);},LessOrEqualTo:function(int_arr){var val=this.getValidationTargetValue()
if(!$.Scout.Engine.isNumeric(val))
return false;return val<=$.Scout.Engine.min(int_arr);},LessThanAny:function(int_arr){var val=this.getValidationTargetValue()
if(!$.Scout.Engine.isNumeric(val))
return false;return val<$.Scout.Engine.max(int_arr);},LessOrEqualToAny:function(int_arr){var val=this.getValidationTargetValue()
if(!$.Scout.Engine.isNumeric(val))
return false;return val<=$.Scout.Engine.max(int_arr);},Optional:function(){return true;},Empty:function(){return this.getValidationTargetValue()=='';},Mandatory:function(){return this.getValidationTargetValue()!='';},OtherFieldNotEmpty:function(name){return $.Scout.Engine.getField(name).getValidationTargetValue()!='';},OtherFieldValidated:function(name,bool){return bool?$.Scout.Engine.getField(name).checkConstraints():!$.Scout.Engine.getField(name).checkConstraints();},OtherFieldValidatedWith:function(name,constraints,bool){var field=$.Scout.Engine.getField(name);return bool?eval(constraints.replace(/this/,"field")):!eval(constraints.replace(/this/,"field"));},StartsWith:function(str_arr){var val=this.getValidationTargetValue();for(var i in str_arr)
if(new RegExp('^'+str_arr[i]+'.*$').test(val))
return true;return false;},EndsWith:function(str_arr){var val=this.getValidationTargetValue();for(var i in str_arr)
if(new RegExp('^.*'+str_arr[i]+'$').test(val))
return true;return false;},Contains:function(str_arr){var val=this.getValidationTargetValue();for(var i in str_arr)
if(new RegExp('^.*'+str_arr[i]+'.*$').test(val))
return true;return false;},IsAlpha:function(){return new RegExp('^[^\\d]*$').test(this.getValidationTargetValue());},IsUpperCase:function(){return new RegExp('^[^a-z]*$').test(this.getValidationTargetValue());},IsLowerCase:function(){return new RegExp('^[^A-Z]*$').test(this.getValidationTargetValue());},IsInitCap:function(){return new RegExp('^[A-Z]').test(this.getValidationTargetValue());},CharAt:function(position,str_arr){var val=this.getValidationTargetValue();if(val.legth>position)
return false;return $.inArray(val.charAt(position-1),str_arr)!=-1;},MinLength:function(length){return this.getValidationTargetValue().length>length;},MaxLength:function(length){return this.getValidationTargetValue().length<length;},ExactLength:function(length){return this.getValidationTargetValue().length<length;},};$.fn.extend($.Scout.Plug.FunctionValidations);$.Scout.Plug.TypeValidations={Mail:function(){return new RegExp("^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$").test(this.getValidationTargetValue());},Integer:function(){return $.Scout.Engine.isNumeric(this.getValidationTargetValue());},Float:function(){return new RegExp('^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$').test(this.getValidationTargetValue());},Positive:function(){var val=this.getValidationTargetValue()
if(!$.Scout.Engine.isNumeric(val))
return false;return val>0;},Natural:function(){var val=this.getValidationTargetValue();return $.Scout.Engine.isNumeric(val)&&val>0;},Char:function(length){return this.getValidationTargetValue().length==length;},String:function(){return true;},Password:function(){return true;},Datepicker:function(){return true;},};$.fn.extend($.Scout.Plug.TypeValidations);$.Scout.Plug.Traversable={CurrentDate:function(format){var current_date=new Date();var day=current_date.getDate();var month=current_date.getMonth()+1;if(day<10)
day='0'+day;if(month<10)
month='0'+month;return format.replace(/d+/,day).replace(/m+/,month).replace(/y+/,current_date.getFullYear());},CurrentDayNumber:function(params){return new Date().getDay();},CurrentDayName:function(params){return $.Scout.Defaults.Days[new Date().getDay()]['name'];},CurrentMonthNumber:function(params){return new Date().getMonth()+1;},CurrentMonthName:function(params){return $.Scout.Defaults.Months[new Date().getMonth()];},CurrentYear:function(params){return new Date().getFullYear();},CurrentTime:function(time){var current_date=new Date();var second=current_date.getSeconds();var minute=current_date.getMinutes();var hour=current_date.getHours();var ending='';if(time=='12')
if(hour<12){ending='AM';}else{hour=-12;ending='PM';};if(second<10)
second='0'+second;if(minute<10)
minute='0'+minute;if(hour<10)
hour='0'+hour;return hour+':'+minute+':'+second+' '+ending;},CurrentHour:function(time){var current_date=new Date();var ending=' ';var hour=current_date.getHours();if(time=='12')
if(hour<12){ending='AM';}else{hour=-12;ending='PM';};return hour+ending;},CurrentMinute:function(params){return new Date().getMinutes();},CurrentSecond:function(params){return new Date().getSeconds();},FieldValue:function(name){return $.Scout.Engine.getField(name).getValidationTargetValue();},};$.Scout.Password=new Object();$.Scout.Password.EvaluationFunctions={mixedCaseAndNumbers:function(str){var reg_one_upper=/[A-Z].*[A-Z]/;var reg_integers=/^.*[\d].*$/;var lvl=0;if(str.length>3){lvl++;if(reg_one_upper.test(str)){lvl++;}
if(reg_integers.test(str)){lvl++;}
if(str.length>8){lvl++;}}
return lvl;}};$.Scout.Password.Levels=[{message:'Hasło ma niewystarczającą siłę',color:'#c00'},{message:'Hasło ma słabą siłę',color:'#cc0'},{message:'Siła hasła jest średnia',color:'#c2a'},{message:'Hasło jest bezpieczne',color:'#c00'},{message:'Hasło o bardzo wysokiej sile',color:'#0c0'}];$.Scout.Password.getLevel=function(eval_func,str){var lvl=$.Scout.Password.EvaluationFunctions[eval_func](str);if((typeof lvl!=' undefined')&&(lvl<=$.Scout.Password.Levels.length-1))
return lvl;return $.Scout.Password.Levels.length-1;};$.Scout.Password.getLevelHtml=function(pass_message){var msg='';if($.Scout.GlobalSettings['display_password_tooltip'])
msg=$('<div class="password-message"></div>').append('<span>'+pass_message+'</span>');return $('<div class="password-level-holder"></div>').append('<div class ="password-level-bar"></div>').append('<div class="border"><div class="fill"></div></div>').append(msg);};(function($){$.fn.displayPasswordLevelHtml=function(){var holder=this.getMarkupHolder();var element=this.getValidationTargetHolder();var pass_lvl=$.Scout.Password.getLevel($.Scout.GlobalSettings['password_lvl_evaluation_function'],this.getValidationTargetValue());var pass_lvl_max=$.Scout.Password.Levels.length-1;var pass_lvl_data=$.Scout.Password.Levels[pass_lvl];if(holder.find('.password-level-holder').size()!=0){holder.find('.password-message').text(pass_lvl_data['message']);}else{holder.append($.Scout.Password.getLevelHtml(pass_lvl_data.message)).find('.password-level-holder').fadeIn().css('display','inline-block');}
var border_width=holder.find('.border').width();holder.find('.fill').dequeue().animate({width:(border_width/(pass_lvl_max))*pass_lvl+'px'}).css({'background':pass_lvl_data.color});};})(jQuery);$.Scout.Plug=new Object();$.Scout.Plug.FunctionValidations={EqualTo:function(param){return this.getValidationTargetValue()==param;},EqualToAny:function(int_arr){var val=this.getValidationTargetValue();return($.inArray(parseInt(val),int_arr)!=-1)||($.inArray(val,int_arr)!=-1);},InRange:function(int_arr){var val=parseInt(this.getValidationTargetValue());return $.Scout.Engine.isNumeric(val)&&val>=$.Scout.Engine.min(int_arr)&&val<=$.Scout.Engine.max(int_arr)},GreaterThan:function(int_arr){var val=this.getValidationTargetValue()
if(!$.Scout.Engine.isNumeric(val))
return false;return val>$.Scout.Engine.max(int_arr);},GreaterOrEqualTo:function(int_arr){var val=this.getValidationTargetValue()
if(!$.Scout.Engine.isNumeric(val))
return false;return val>=$.Scout.Engine.max(int_arr);},GreaterThanAny:function(int_array){var val=this.getValidationTargetValue()
if(!$.Scout.Engine.isNumeric(val))
return false;return val>$.Scout.Engine.min(int_array);},GreaterOrEqualToAny:function(int_arr){var val=this.getValidationTargetValue()
if(!$.Scout.Engine.isNumeric(val))
return false;return val>=$.Scout.Engine.min(int_arr);},LessThan:function(int_arr){var val=this.getValidationTargetValue()
if(!$.Scout.Engine.isNumeric(val))
return false;return val<$.Scout.Engine.min(int_arr);},LessOrEqualTo:function(int_arr){var val=this.getValidationTargetValue()
if(!$.Scout.Engine.isNumeric(val))
return false;return val<=$.Scout.Engine.min(int_arr);},LessThanAny:function(int_arr){var val=this.getValidationTargetValue()
if(!$.Scout.Engine.isNumeric(val))
return false;return val<$.Scout.Engine.max(int_arr);},LessOrEqualToAny:function(int_arr){var val=this.getValidationTargetValue()
if(!$.Scout.Engine.isNumeric(val))
return false;return val<=$.Scout.Engine.max(int_arr);},Optional:function(){return true;},Empty:function(){return this.getValidationTargetValue()=='';},Mandatory:function(){return this.getValidationTargetValue()!='';},OtherFieldNotEmpty:function(name){return $.Scout.Engine.getField(name).getValidationTargetValue()!='';},OtherFieldValidated:function(name,bool){return bool?$.Scout.Engine.getField(name).checkConstraints():!$.Scout.Engine.getField(name).checkConstraints();},OtherFieldValidatedWith:function(name,constraints,bool){var field=$.Scout.Engine.getField(name);return bool?eval(constraints.replace(/this/,"field")):!eval(constraints.replace(/this/,"field"));},StartsWith:function(str_arr){var val=this.getValidationTargetValue();for(var i in str_arr)
if(new RegExp('^'+str_arr[i]+'.*$').test(val))
return true;return false;},EndsWith:function(str_arr){var val=this.getValidationTargetValue();for(var i in str_arr)
if(new RegExp('^.*'+str_arr[i]+'$').test(val))
return true;return false;},Contains:function(str_arr){var val=this.getValidationTargetValue();for(var i in str_arr)
if(new RegExp('^.*'+str_arr[i]+'.*$').test(val))
return true;return false;},IsAlpha:function(){return new RegExp('^[^\\d]*$').test(this.getValidationTargetValue());},IsUpperCase:function(){return new RegExp('^[^a-z]*$').test(this.getValidationTargetValue());},IsLowerCase:function(){return new RegExp('^[^A-Z]*$').test(this.getValidationTargetValue());},IsInitCap:function(){return new RegExp('^[A-Z]').test(this.getValidationTargetValue());},CharAt:function(position,str_arr){var val=this.getValidationTargetValue();if(val.legth>position)
return false;return $.inArray(val.charAt(position-1),str_arr)!=-1;},MinLength:function(length){return this.getValidationTargetValue().length>length;},MaxLength:function(length){return this.getValidationTargetValue().length<length;},ExactLength:function(length){return this.getValidationTargetValue().length<length;},};$.fn.extend($.Scout.Plug.FunctionValidations);$.Scout.Plug.TypeValidations={Mail:function(){return new RegExp("^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$").test(this.getValidationTargetValue());},Integer:function(){return $.Scout.Engine.isNumeric(this.getValidationTargetValue());},Float:function(){return new RegExp('^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$').test(this.getValidationTargetValue());},Positive:function(){var val=this.getValidationTargetValue()
if(!$.Scout.Engine.isNumeric(val))
return false;return val>0;},Natural:function(){var val=this.getValidationTargetValue();return $.Scout.Engine.isNumeric(val)&&val>0;},Char:function(length){return this.getValidationTargetValue().length==length;},String:function(){return true;},Password:function(){return true;},Datepicker:function(){return true;},};$.fn.extend($.Scout.Plug.TypeValidations);$.Scout.Plug.Traversable={CurrentDate:function(format){var current_date=new Date();var day=current_date.getDate();var month=current_date.getMonth()+1;if(day<10)
day='0'+day;if(month<10)
month='0'+month;return format.replace(/d+/,day).replace(/m+/,month).replace(/y+/,current_date.getFullYear());},CurrentDayNumber:function(params){return new Date().getDay();},CurrentDayName:function(params){return $.Scout.Defaults.Days[new Date().getDay()]['name'];},CurrentMonthNumber:function(params){return new Date().getMonth()+1;},CurrentMonthName:function(params){return $.Scout.Defaults.Months[new Date().getMonth()];},CurrentYear:function(params){return new Date().getFullYear();},CurrentTime:function(time){var current_date=new Date();var second=current_date.getSeconds();var minute=current_date.getMinutes();var hour=current_date.getHours();var ending='';if(time=='12')
if(hour<12){ending='AM';}else{hour=-12;ending='PM';};if(second<10)
second='0'+second;if(minute<10)
minute='0'+minute;if(hour<10)
hour='0'+hour;return hour+':'+minute+':'+second+' '+ending;},CurrentHour:function(time){var current_date=new Date();var ending=' ';var hour=current_date.getHours();if(time=='12')
if(hour<12){ending='AM';}else{hour=-12;ending='PM';};return hour+ending;},CurrentMinute:function(params){return new Date().getMinutes();},CurrentSecond:function(params){return new Date().getSeconds();},FieldValue:function(name){return $.Scout.Engine.getField(name).getValidationTargetValue();},};$(document).ready(function(){$(".markup-holder .description-label").addHelpIcon();});(function($){$.fn.addHelpIcon=function(){this.each(function(){if($(this).checkForInstruction('hint_message')){$(this).prepend('<img class="help-icon" src="'+$.Scout.Engine.imageUrl('help_icon-trans.png')+'" />');$(this).mouseenter(function(){$(this).displayHint();});$(this).mouseleave(function(){$(this).hideHint();});$(this).mousemove(function(event){$('.hint').css({'margin-left':event.pageX+5,'margin-top':event.pageY+5});});}});};$.fn.displayHint=function(){$(this).getHintHtml().prependTo('body').css('opacity',0).animate({opacity:0.8},400);};$.fn.hideHint=function(){$('.hint').animate({opacity:0},200,function(){$(this).remove();});};$.fn.getHintHtml=function(){var hint_message=$.Scout.Engine.traverse($(this).getInstruction('hint_message'));return $('<div class="hint" ></div>').append('<div class="hint-message-holder">'+hint_message+'</div>');};})(jQuery);$.Scout.Datepicker=new Object();$.Scout.Datepicker.configuration={time_to_hide_calendar:400,week_starts_with_day:'Poniedziałek',calendar_start_year:1990,calendar_end_year:2010};$.extend($.Scout.GlobalSettings,$.Scout.Datepicker.configuration);$('document').ready(function(){var elements=$([]);$('.markup-holder').each(function(){if($(this).getInstruction('type')=='Datepicker'){$.extend(elements,$(this));}});elements.each(function(){$(this).getValidationTarget().focus(function(){$(this).getValidationTargetHolder().insertDatepicker();});});});(function($){$.fn.insertDatepicker=function(){if(this.find('.datepicker-holder').size()==0){$('<div class="datepicker-holder"></div>').appendTo(this).addCloseButton().insertNavigation().insertEmptyDaysTable().fillDaysTableHeaders().fillDaysTable().find('select.months, select.years').bind('change',$.Scout.Datepicker.switchDate).end().find('select.years').bind('change',$.Scout.Datepicker.switchDate).end().find('.navigation-button.forward').bind('click',$.Scout.Datepicker.nextMonth).end().find('.navigation-button.backward').bind('click',$.Scout.Datepicker.prevMonth).getValidationTarget().keydown(function(){$(this).getMarkupHolder().hideDatepicker();});}
this.find('.datepicker-holder').fadeOut(0).fadeIn(400);};$.fn.hideDatepicker=function(){return this.each(function(){$(this).fadeOut($.Scout.GlobalSettings['time_to_hide_calendar']);});};$.fn.insertEmptyDaysTable=function(){return this.each(function(){var days_table=$('<table class="days"></table>').appendTo(this);var days_table_head=$('<thead></thead>').appendTo(days_table);for(var i=0;i<7;i++){days_table_head.append('<th></th>');}
days_table.append('<tbody></tbody>');});};$.fn.fillDaysTableHeaders=function(){return this.each(function(){var days=$.Scout.Date.getDaysNames();$(this).find('.days th').each(function(i){$(this).text(days[i].abbr+'.');});});};$.fn.addCloseButton=function(){return this.each(function(){$(this).append('<div class="close-button"><img src="'+$.Scout.GlobalSettings['image_files_path']+'close-button.png"></img></div>');$(this).find('.close-button').click(function(){$(this).parents('.Datepicker-calendar-holder').hideDatepicker();});});};$.fn.insertNavigation=function(){return this.each(function(){var navigation=$('<div class="navigation"></div>').appendTo($(this)).append('<div class="navigation-button forward"><img src="'+$.Scout.Engine.imageUrl('navigation-button-forward.png')+'"/></div>').append('<select class="years"/>').append('<select class="months"/>').append('<div href="#" class="navigation-button backward"><img src="'+$.Scout.Engine.imageUrl('navigation-button-backward.png')+'"/></div>')
var navigation_months=navigation.find('.months');var navigation_years=navigation.find('.years');var months=$.Scout.Date.getMonthsNames();for(var i in months){navigation_months.append('<option class="month" value="'+(i+1)+'">'+months[i]+'</option>');}
for(var i=$(this).getInstructionOrGlobal('calendar_start_year');i<$(this).getInstructionOrGlobal('calendar_end_year')+1;i++){navigation_years.append('<option class="year">'+i+'</option>');}});};$.fn.fillDaysTable=function(){return this.each(function(){var month=$(this).find('.months option:selected').text();var year=$(this).find('.years option:selected').text();var first_day_index=$.Scout.Date.getIndexOfDayInWeek(year,month,1);var days_number=$.Scout.Date.getNumberOfDaysInMonth(month,year);var needed_rows=parseInt((first_day_index+days_number)/7);if(((first_day_index+days_number)%7)!=0){needed_rows++;}
var days_table_body=$(this).find('.days tbody');days_table_body.html('');for(var i=0;i<needed_rows;i++){days_table_body.append('<tr></tr>');var last_added_tr=days_table_body.find('tr:last');for(var j=0;j<7;j++){var td_class='day';var td_text=i*7+j+1-first_day_index;if((days_number<=0)||(i==0&&j<first_day_index)){td_class='';td_text='';}else{days_number--;}
last_added_tr.append('<td class="'+td_class+'">'+td_text+'</td>');}}
days_table_body.find('.day').bind('click',$.Scout.Datepicker.pickDate);days_table_body.find('.day').hover(function(){$(this).addClass('hover');},function(){$(this).removeClass('hover');});});};})(jQuery);$.Scout.Datepicker.switchDate=function(){$(this).parents('.datepicker-holder').fillDaysTable();};$.Scout.Datepicker.nextMonth=function(){var datepicker=$(this).parents('.datepicker-holder');datepicker.find('.months').selectPrevOption();if(datepicker.find('.months option:selected').is(':last-child'))
datepicker.find('.years').selectPrevOption();$.Scout.Datepicker.switchDate.call(this);};$.Scout.Datepicker.prevMonth=function(event){var datepicker=$(this).parents('.datepicker-holder');datepicker.find('.months').selectNextOption();if(datepicker.find('.months option:selected').is(':last-child'))
datepicker.find('.years').selectNextOption();$.Scout.Datepicker.switchDate.call(this);};$.Scout.Datepicker.switchDate=function(){$(this).parents('.datepicker-holder').fillDaysTable();};$.Scout.Datepicker.pickDate=function(){var datepicker=$(this).parents('.datepicker-holder');var year=datepicker.find('.years option:selected').text();var month=datepicker.find('.months option:selected').val();var day=$(this).text();typeof day[2]=='undefined'
if(day.length==1)
day='0'+day;$(this).getValidationTarget().val(day+'-'+month+'-'+year);datepicker.hideDatepicker();};(function($){$.fn.displayErrorMessage=function(){if($(this).checkForInstruction('error_message')){var target_holder=$(this).getValidationTargetHolder();var error_msg=target_holder.find('.error-message');var error_msg_html=$(this).getErrorMessageHtml();if(error_msg.size()==0){if($.Scout.GlobalSettings.error_display=='before'){target_holder.prepend(error_msg_html);}else{target_holder.append(error_msg_html);}
target_holder.find('.error-message.generated').css({display:'none'}).slideDown();}else{error_msg.not('.generated').each(function(){$(this).replaceWith(error_msg_html);$(this).addClass('generated');});}}};$.fn.hideErrorMessage=function(){return this.each(function(){$(this).getValidationTargetHolder().find('.error-message').slideUp(500,function(){$(this).remove()});});};$.fn.getErrorMessageHtml=function(){var error_message=$(this).getInstruction('error_message');return $('<div class="error-message generated"></div>').append('<span>'+error_message+'</span>');};})(jQuery);